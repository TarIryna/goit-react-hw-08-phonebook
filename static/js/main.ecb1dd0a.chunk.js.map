{"version":3,"sources":["redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","redux/contacts/contacts-actions.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-selectors.js","redux/contacts/contacts-reducer.js","components/Phonebook/Contact.js","components/Phonebook/Phonebook.js","components/Form/Form.js","components/NewContact/NewContact.js","components/FilterInput/FilterInput.js","views/ContactsView.js","views/HomeView.js","views/RegisterView.js","views/LoginView.js","components/Container/Container.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js","views/views.module.css","components/Form/Form.module.css","components/Phonebook/Phonebook.module.css","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","components/UserMenu/UserMenu.module.css","components/FilterInput/FilterInput.module.css","components/AppBar/AppBar.module.css","components/NewContact/NewContact.module.css","components/Container/Container.module.css"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","Notiflix","Notify","failure","logIn","logOut","fetchCurrentUser","_","thunkAPI","state","getState","persistedToken","auth","rejectWithValue","get","operations","authSelectors","getIsLoggedIn","isLoggedIn","getUserEmail","user","email","authSlice","createSlice","name","initialState","extraReducers","authOperations","fulfilled","action","payload","Navigation","useSelector","to","exact","className","s","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","container","Button","button","variant","onClick","AuthNav","AppBar","header","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","contactsOperations","fetchContacts","message","addContact","number","contact","then","catch","error","deleteContact","contactId","delete","getFilter","contacts","filter","getAllContacts","items","getVisibleContacts","createSelector","console","log","normalizedFilter","toLowerCase","includes","contactsSelectors","getLoading","loading","createReducer","id","combineReducers","Contact","onDelete","Phonebook","isFetching","useEffect","contactList","loader","type","color","height","width","timeout","sort","b","map","Form","useState","setName","setNumber","allContacts","onChangeInput","e","currentTarget","value","reset","form","onSubmit","preventDefault","findName","find","labels","input","onChange","pattern","title","required","NewContact","show","setShow","Modal","onHide","Header","closeButton","Title","Body","FilterInput","filterValue","label","target","HomeView","styles","RegisterView","setEmail","password","setPassword","handleChange","autoComplete","LoginView","Container","children","PrivateRoute","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","App","path","ContactsView","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ecb1dd0a.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport Notiflix from 'notiflix';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(`${error}`);\r\n  }\r\n});\r\n\r\nconst logIn = createAsyncThunk('auth/login', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(`${error}`);\r\n  }\r\n});\r\n\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(`${error}`);\r\n  }\r\n});\r\n\r\nconst fetchCurrentUser = createAsyncThunk('auth/refresh', async (_, thunkAPI) => {\r\n  const state = thunkAPI.getState();\r\n  const persistedToken = state.auth.token;\r\n\r\n  if (persistedToken === null) {\r\n    return thunkAPI.rejectWithValue();\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  try {\r\n    const { data } = await axios.get('/users/current');\r\n    return data;\r\n  } catch (error) {\r\n    Notiflix.Notify.failure(`${error}`);\r\n  }\r\n});\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUserEmail = state => state.auth.user.email;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUserEmail,\r\n};\r\nexport default authSelectors;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Navigation = () => {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\r\n        Главная\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink to=\"/contacts\" className={s.link} activeClassName={s.activeLink}>\r\n          Контакты\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport s from './UserMenu.module.css';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const email = useSelector(authSelectors.getUserEmail);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      {/* <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} /> */}\r\n      <span className={s.name}>{email}</span>\r\n      <Button className={s.button} variant=\"info\" onClick={() => dispatch(authOperations.logOut())}>\r\n        Выйти\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/register\" className={s.link} activeClassName={s.activeLink}>\r\n        Регистрация\r\n      </NavLink>\r\n      <NavLink to=\"/login\" className={s.link} activeClassName={s.activeLink}>\r\n        Логин\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nexport const fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","import axios from 'axios';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './contacts-actions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\n// GET @ /tasks\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n\r\n    dispatch(fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error.message));\r\n  }\r\n};\r\n\r\n// POST @ /tasks\r\nconst addContact = (name, number) => dispatch => {\r\n  const contact = {\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(addContactRequest());\r\n\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(addContactSuccess(data)))\r\n    .catch(error => dispatch(addContactError(error.message)));\r\n};\r\n\r\n// DELETE @ /tasks/:id\r\nconst deleteContact = contactId => dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${contactId}`)\r\n    .then(() => dispatch(deleteContactSuccess(contactId)))\r\n    .catch(error => dispatch(deleteContactError(error.message)));\r\n};\r\n\r\nconst contactsOperations = {\r\n  fetchContacts,\r\n  addContact,\r\n  deleteContact,\r\n};\r\nexport default contactsOperations;\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\nconst getVisibleContacts = createSelector([getAllContacts, getFilter], (contacts, filter) => {\r\n  console.log(filter);\r\n  const normalizedFilter = filter.toLowerCase();\r\n  return contacts.filter(({ name }) => name.toLowerCase().includes(normalizedFilter));\r\n});\r\n\r\nconst contactsSelectors = {\r\n  getLoading,\r\n  getAllContacts,\r\n  getFilter,\r\n  getVisibleContacts,\r\n};\r\nexport default contactsSelectors;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  changeFilter,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) => state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst error = createReducer(null, {});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n  error,\r\n});\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Phonebook.module.css';\r\n// import Loader from 'react-loader-spinner';\r\n\r\nexport default function Contact({ name, number, id, onDelete }) {\r\n  return (\r\n    <>\r\n      {name}: <span className={s.number}> {number} </span>\r\n      <button className={s.button} onClick={() => onDelete(id)}>\r\n        {/* {isDeleting && <Loader type=\"Puff\" color=\"#00BFFF\" height={12} width={12} />} */}\r\n        Delete\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nContact.propTypes = {\r\n  name: PropTypes.string,\r\n  number: PropTypes.string,\r\n  id: PropTypes.string,\r\n  onDelete: PropTypes.func,\r\n};\r\n","import { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsOperations, contactsSelectors } from '../../redux/contacts';\r\nimport Contact from './Contact';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Phonebook.module.css';\r\n\r\nconst Phonebook = () => {\r\n  const dispatch = useDispatch();\r\n  const contacts = useSelector(contactsSelectors.getVisibleContacts);\r\n  const isFetching = useSelector(contactsSelectors.getLoading);\r\n  const onDelete = id => dispatch(contactsOperations.deleteContact(id));\r\n  useEffect(() => dispatch(contactsOperations.fetchContacts()), [dispatch]);\r\n  return (\r\n    <ul className={s.contactList}>\r\n      {isFetching && (\r\n        <div className={s.loader}>\r\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} timeout={3000} />\r\n        </div>\r\n      )}\r\n      {contacts &&\r\n        contacts\r\n          .sort((a, b) => (a.name > b.name ? 1 : -1))\r\n          .map(({ id, name, number }) => (\r\n            <li className={s.name} key={id}>\r\n              <Contact id={id} name={name} number={number} onDelete={onDelete} />\r\n            </li>\r\n          ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import { useState } from 'react';\r\nimport s from './Form.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { contactsOperations, contactsSelectors } from '../../redux/contacts';\r\nimport Notiflix from 'notiflix';\r\n\r\nconst Form = () => {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const allContacts = useSelector(contactsSelectors.getAllContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmitForm = e => {\r\n    e.preventDefault();\r\n    const findName = allContacts.find(contact => contact.name === name);\r\n    if (findName) {\r\n      Notiflix.Notify.failure(`${findName.name} is already in contacts`);\r\n      reset();\r\n      return;\r\n    }\r\n    const addContact = (name, number) => dispatch(contactsOperations.addContact(name, number));\r\n    addContact(name, number);\r\n    reset();\r\n  };\r\n\r\n  const onChangeInput = e => {\r\n    const { name, value } = e.currentTarget;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n\r\n      case 'number':\r\n        setNumber(value);\r\n        break;\r\n\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const reset = () => {\r\n    setName('');\r\n    setNumber('');\r\n  };\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={onSubmitForm}>\r\n      <div className={s.labels}>\r\n        <label className={s.name}>\r\n          Name\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={onChangeInput}\r\n          />\r\n        </label>\r\n        <label className={s.name}>\r\n          Number\r\n          <input\r\n            className={s.input}\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            value={number}\r\n            onChange={onChangeInput}\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            required\r\n          />\r\n        </label>\r\n      </div>\r\n      <button className={s.button} type=\"submit\" key=\"submitBtn\">\r\n        Add contact\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import { Button, Modal } from 'react-bootstrap';\r\nimport { useState } from 'react';\r\nimport Form from '../Form';\r\nimport s from './NewContact.module.css';\r\n\r\nconst NewContact = () => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  return (\r\n    <>\r\n      <Button className={s.button} variant=\"primary\" onClick={handleShow}>\r\n        Добавить новый контакт\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Добавить новый контакт</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\nexport default NewContact;\r\n","import React from 'react';\r\nimport s from './FilterInput.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { contactsSelectors } from '../../redux/contacts';\r\nimport { changeFilter } from '../../redux/contacts/contacts-actions';\r\n\r\nconst FilterInput = () => {\r\n  const dispatch = useDispatch();\r\n  const filterValue = useSelector(contactsSelectors.getFilter);\r\n\r\n  return (\r\n    <div className={s.filter}>\r\n      <label className={s.label}>\r\n        Фильтр по имени\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          name=\"filter\"\r\n          value={filterValue}\r\n          onChange={e => dispatch(changeFilter(e.target.value))}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterInput;\r\n","import React from 'react';\r\nimport Phonebook from '../components/Phonebook';\r\nimport NewContact from '../components/NewContact';\r\nimport FilterInput from '../components/FilterInput';\r\n\r\nconst HomeView = () => (\r\n  <>\r\n    <NewContact />\r\n    <FilterInput />\r\n    <Phonebook />\r\n  </>\r\n);\r\n\r\nexport default HomeView;\r\n","import React from 'react';\r\nimport styles from './views.module.css';\r\n\r\nconst HomeView = () => (\r\n  <div className={styles.container}>\r\n    <h1 className={styles.title}>Приветственная страница нашего сервиса</h1>\r\n  </div>\r\n);\r\n\r\nexport default HomeView;\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { authOperations } from '../redux/auth';\r\nimport s from './views.module.css';\r\n\r\nexport default function RegisterView() {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleChange = ({ target: { name, value } }) => {\r\n    switch (name) {\r\n      case 'name':\r\n        return setName(value);\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(authOperations.register({ name, email, password }));\r\n    setName('');\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Страница регистрации</h1>\r\n      <form onSubmit={handleSubmit} className={s.form} autoComplete=\"off\">\r\n        <label className={s.label}>\r\n          Имя\r\n          <input type=\"text\" name=\"name\" value={name} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label className={s.label}>\r\n          Почта\r\n          <input type=\"email\" name=\"email\" value={email} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label className={s.label}>\r\n          Пароль\r\n          <input type=\"password\" name=\"password\" value={password} onChange={handleChange} />\r\n        </label>\r\n\r\n        <button type=\"submit\">Зарегистрироваться</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { authOperations } from '../redux/auth';\r\nimport s from './views.module.css';\r\n\r\nexport default function LoginView() {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(authOperations.logIn({ email, password }));\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Страница логина</h1>\r\n\r\n      <form onSubmit={handleSubmit} className={s.form} autoComplete=\"off\">\r\n        <label className={s.label}>\r\n          Почта\r\n          <input type=\"email\" name=\"email\" value={email} onChange={handleChange} />\r\n        </label>\r\n\r\n        <label className={s.label}>\r\n          Пароль\r\n          <input type=\"password\" name=\"password\" value={password} onChange={handleChange} />\r\n        </label>\r\n\r\n        <button type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport s from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={s.Container}>{children}</div>;\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute({ children, redirectTo = '/', ...routeProps }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return <Route {...routeProps}>{isLoggedIn ? children : <Redirect to={redirectTo} />}</Route>;\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = '/',\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return <Route {...routeProps}>{shouldRedirect ? <Redirect to={redirectTo} /> : children}</Route>;\r\n}\r\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Switch } from 'react-router-dom';\nimport AppBar from './components/AppBar';\nimport ContactsView from './views/ContactsView.js';\nimport HomeView from './views/HomeView';\nimport RegisterView from './views/RegisterView';\nimport LoginView from './views/LoginView';\nimport Container from './components/Container';\nimport { authOperations } from './redux/auth';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n      <Switch>\n        <PublicRoute exact path=\"/\">\n          <HomeView />\n        </PublicRoute>\n        <PublicRoute exact path=\"/register\" restricted>\n          <RegisterView />\n        </PublicRoute>\n        <PublicRoute exact path=\"/login\" redirectTo=\"/contacts\" restricted>\n          <LoginView />\n        </PublicRoute>\n        <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n          <ContactsView />\n        </PrivateRoute>\n      </Switch>\n    </Container>\n  );\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { contactsReducer } from './contacts';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport { store, persistor } from './redux/store';\nimport 'modern-normalize/modern-normalize.css';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"views_form__3ACV4\",\"label\":\"views_label__iNTbj\",\"container\":\"views_container__tFixA\",\"title\":\"views_title__TYDAf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__1ACFq\",\"labels\":\"Form_labels__YSF9w\",\"name\":\"Form_name__2P32h\",\"input\":\"Form_input__2-2_S\",\"button\":\"Form_button__3J-K1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"Phonebook_name__39938\",\"contactList\":\"Phonebook_contactList__3aA8R\",\"number\":\"Phonebook_number__xyLkp\",\"button\":\"Phonebook_button__3qd7Q\",\"loader\":\"Phonebook_loader__7oS9d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3iVqi\",\"activeLink\":\"Navigation_activeLink__ETz15\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2Xw2q\",\"activeLink\":\"AuthNav_activeLink__24p5B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1lLCP\",\"avatar\":\"UserMenu_avatar__sSDg9\",\"name\":\"UserMenu_name__13Ii0\",\"button\":\"UserMenu_button__PO1fS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"FilterInput_filter__1dqty\",\"input\":\"FilterInput_input__2OjzB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1UMas\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NewContact_button__2Ivj6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__oCBmv\"};"],"sourceRoot":""}